{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["const BASE_URL = 'https://pixabay.com/api';\nconst API_KEY = '49481602-fd69c907e71567b02dc237fda';\n\nexport function getPhotos(query) {\n  return fetch(\n    `${BASE_URL}/?key=${API_KEY}&q=${encodeURIComponent(\n      query\n    )}&image_type=photo&orientation=horizontal&safesearch=true`\n  ).then(res => {\n    if (!res.ok) {\n      throw new Error(res.status);\n    }\n\n    return res.json();\n  });\n}\n","function getUniqueTags(tagsString) {\n  const tagsArray = tagsString.split(',');\n\n  const trimmedTags = tagsArray.map(tag => tag.trim());\n\n  const uniqueTags = [...new Set(trimmedTags)];\n\n  return uniqueTags;\n}\n\nexport const createGalleryCard = ({\n  webformatURL,\n  largeImageURL,\n  likes,\n  views,\n  comments,\n  downloads,\n  tags,\n}) => {\n  return `\n<li class=\"gallery-item\">\n  <a class=\"gallery-link\" href=\"${largeImageURL}\">\n    <img class=\"gallery-image\" src=\"${webformatURL}\" title=\"${getUniqueTags(\n    tags\n  ).join(', ')}\"/>\n  </a>\n  <div class=\"stats\">\n    <div class=\"stat\">\n      <p class=\"stat-title\">Likes</p>\n      <p class=\"stat-value\">${likes}</p>\n    </div>\n    <div class=\"stat\">\n      <p class=\"stat-title\">Views</p>\n      <p class=\"stat-value\">${views}</p>\n    </div>\n    <div class=\"stat\">\n      <p class=\"stat-title\">Comments</p>\n      <p class=\"stat-value\">${comments}</p>\n    </div>\n    <div class=\"stat\">\n      <p class=\"stat-title\">Downloads</p>\n      <p class=\"stat-value\">${downloads}</p>\n    </div>\n  </div>\n</li>\n`;\n};\n","import iziToast from 'izitoast';\nimport SimpleLightbox from 'simplelightbox';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nimport { getPhotos } from './js/pixabay-api';\nimport { createGalleryCard } from './js/render-functions';\n\nconst refs = {\n  form: document.querySelector('.js-search-form'),\n  input: document.querySelector('.js-search-input'),\n  submitButton: document.querySelector('.js-search-button'),\n  gallery: document.querySelector('.js-gallery'),\n  loader: document.querySelector('.js-loader'),\n};\n\nfunction handleFormSubmit(event) {\n  event.preventDefault();\n  refs.gallery.innerHTML = '';\n\n  const inputValue = refs.input.value;\n  if (inputValue.trim() === '') {\n    iziToast.error({\n      title: 'Error',\n      message: 'Please enter the search query!',\n    });\n    return;\n  }\n  refs.loader.classList.add('active');\n  getPhotos(inputValue)\n    .then(data => {\n      if (data.hits.length === 0) {\n        iziToast.error({\n          title: 'Error',\n          message:\n            'Sorry, there are no images matching your search query. Please try again!',\n        });\n        return;\n      }\n\n      refs.gallery.innerHTML = data.hits\n        .map(imageInfo => createGalleryCard(imageInfo))\n        .join('');\n      let gallery = new SimpleLightbox('.gallery-link', { captionDelay: 250 });\n      gallery.refresh();\n    })\n    .catch(error => {\n      iziToast.error({\n        title: 'Error',\n        message: 'Something went wrong. Please try again!',\n      });\n    })\n    .finally(() => {\n      refs.loader.classList.remove('active');\n    });\n  refs.form.reset();\n}\n\nrefs.form.addEventListener('submit', handleFormSubmit);\n"],"names":["BASE_URL","API_KEY","getPhotos","query","res","getUniqueTags","tagsString","trimmedTags","tag","createGalleryCard","webformatURL","largeImageURL","likes","views","comments","downloads","tags","refs","handleFormSubmit","event","inputValue","iziToast","data","imageInfo","SimpleLightbox","error"],"mappings":"6vBAAA,MAAMA,EAAW,0BACXC,EAAU,qCAET,SAASC,EAAUC,EAAO,CAC/B,OAAO,MACL,GAAGH,CAAQ,SAASC,CAAO,MAAM,mBAC/BE,CACD,CAAA,0DACL,EAAI,KAAKC,GAAO,CACZ,GAAI,CAACA,EAAI,GACP,MAAM,IAAI,MAAMA,EAAI,MAAM,EAG5B,OAAOA,EAAI,MACf,CAAG,CACH,CCfA,SAASC,EAAcC,EAAY,CAGjC,MAAMC,EAFYD,EAAW,MAAM,GAAG,EAER,IAAIE,GAAOA,EAAI,KAAI,CAAE,EAInD,MAFmB,CAAC,GAAG,IAAI,IAAID,CAAW,CAAC,CAG7C,CAEO,MAAME,EAAoB,CAAC,CAChC,aAAAC,EACA,cAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,EACA,KAAAC,CACF,IACS;AAAA;AAAA,kCAEyBL,CAAa;AAAA,sCACTD,CAAY,YAAYL,EAC1DW,CACJ,EAAI,KAAK,IAAI,CAAC;AAAA;AAAA;AAAA;AAAA;AAAA,8BAKgBJ,CAAK;AAAA;AAAA;AAAA;AAAA,8BAILC,CAAK;AAAA;AAAA;AAAA;AAAA,8BAILC,CAAQ;AAAA;AAAA;AAAA;AAAA,8BAIRC,CAAS;AAAA;AAAA;AAAA;AAAA,ECjCjCE,EAAO,CACX,KAAM,SAAS,cAAc,iBAAiB,EAC9C,MAAO,SAAS,cAAc,kBAAkB,EAChD,aAAc,SAAS,cAAc,mBAAmB,EACxD,QAAS,SAAS,cAAc,aAAa,EAC7C,OAAQ,SAAS,cAAc,YAAY,CAC7C,EAEA,SAASC,EAAiBC,EAAO,CAC/BA,EAAM,eAAc,EACpBF,EAAK,QAAQ,UAAY,GAEzB,MAAMG,EAAaH,EAAK,MAAM,MAC9B,GAAIG,EAAW,KAAM,IAAK,GAAI,CAC5BC,EAAS,MAAM,CACb,MAAO,QACP,QAAS,gCACf,CAAK,EACD,MACD,CACDJ,EAAK,OAAO,UAAU,IAAI,QAAQ,EAClCf,EAAUkB,CAAU,EACjB,KAAKE,GAAQ,CACZ,GAAIA,EAAK,KAAK,SAAW,EAAG,CAC1BD,EAAS,MAAM,CACb,MAAO,QACP,QACE,0EACZ,CAAS,EACD,MACD,CAEDJ,EAAK,QAAQ,UAAYK,EAAK,KAC3B,IAAIC,GAAad,EAAkBc,CAAS,CAAC,EAC7C,KAAK,EAAE,EACI,IAAIC,EAAe,gBAAiB,CAAE,aAAc,GAAG,CAAE,EAC/D,QAAO,CACrB,CAAK,EACA,MAAMC,GAAS,CACdJ,EAAS,MAAM,CACb,MAAO,QACP,QAAS,yCACjB,CAAO,CACP,CAAK,EACA,QAAQ,IAAM,CACbJ,EAAK,OAAO,UAAU,OAAO,QAAQ,CAC3C,CAAK,EACHA,EAAK,KAAK,OACZ,CAEAA,EAAK,KAAK,iBAAiB,SAAUC,CAAgB"}